<app-navbar></app-navbar>
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-2 col-md-2 col-12"></div>
        <div class="col-lg-8 col-md-8 col-12">
            <h2 class="card-title text-center pt-3 pb-2">APPLY NOW</h2>
            <div class="card">
                <div class="card-body">
                    <form [formGroup]="loanBasic">
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-12">
                                <div class="mb-2">
                                    <label for="accountnum" class="form-label">Accountnumber :</label>
                                    <input type="text" class="form-control" id="exampleFormControlInput1"
                                        class="input-field" placeholder="" value={{accountNum}} disabled>
                                </div>
                                <br>
                                <div class="mb-2">
                                    <label for="loanType" class="form-label">Loan Type :</label>
                                    <select class="form-select" class="input-field" formControlName="loanType"
                                        (change)="onChange($event)">
                                        <option value="" selected>Choose type of Loan</option>
                                        <option value="houseLoan">House Loan</option>
                                        <option value="personalLoan">Personal Loan</option>
                                        <option value="educationLoan">Education Loan</option>
                                        <option value="vehicleLoan">Vehicle Loan</option>
                                    </select>

                                    <small
                                        *ngIf="loanBasic.get('loanType')?.invalid && loanBasic.get('loanType')?.touched"
                                        class="error">
                                        Please select a Loan Type.
                                    </small>
                                </div>
                                <!-- <ng-container *ngIf="this.type != undefined"> -->
                                <ng-container *ngIf="this.type == 'houseLoan'">
                                    <div class="mb-2">
                                        <label for="LoanPurpose" class="form-label">Loan Purpose :</label>
                                        <select class="form-select" class="input-field" formControlName="loanPurpose">
                                            <option value="" selected>Choose LoanPurpose</option>
                                            <ng-container *ngIf="this.type == 'houseLoan'">
                                                <option value="purchase of new Home">New Home Purchase</option>
                                                <option value="renovation of old Home">Old home renovation</option>
                                            </ng-container>
                                        </select>
                                    </div>
                                    <small
                                        *ngIf="loanBasic.get('loanPurpose')?.invalid && loanBasic.get('loanPurpose')?.touched && shouldApplyValidators()"
                                        class="error">
                                        Please choose Loan Purpose.
                                    </small>
                                </ng-container>
                                <br>

                                <div class="mb-2">
                                    <label for="loanAmount" class="form-label">Loan Amount :</label>
                                    <input type="text" class="form-control" id="exampleFormControlInput1"
                                        placeholder="Enter your Loan Amount" class="input-field"
                                        formControlName="loanAmount">
                                    <small
                                        *ngIf="loanBasic.get('loanAmount')?.invalid && loanBasic.get('loanAmount')?.touched"
                                        class="error">
                                        Loan Amount is required.
                                    </small>
                                    <ng-container
                                        *ngIf="loanBasic.controls['loanAmount'].dirty && loanBasic.hasError('pattern','loanAmount')">
                                        <small class="error">Please enter proper credentials</small>
                                    </ng-container>
                                </div>
                                <br>
                                <div class="mb-2">
                                    <label for="interest" class="form-label">Interest :</label>
                                    <div class="interest_div" disabled>{{interest}}%</div>
                                </div>
                                <br>
                                <ng-container *ngIf="this.type == 'houseLoan'">
                                <div class="mb-2">
                                    <label for="propertyValue" class="form-label">Property Value :</label>
                                    <input type="text" class="form-control" id="exampleFormControlInput1"
                                        placeholder="Enter your Property Value" class="input-field"
                                        formControlName="propertyValue">
                                    <small
                                        *ngIf="loanBasic.get('propertyValue')?.invalid && loanBasic.get('propertyValue')?.touched && shouldApplyValidators()"
                                        class="error">
                                        Property Value is required.
                                    </small>
                                    <ng-container
                                        *ngIf="loanBasic.controls['propertyValue'].dirty && loanBasic.hasError('pattern','propertyValue')">
                                        <small class="error">Please enter proper credentials</small>
                                    </ng-container>
                                </div>
                                <br>
                                <div class="mb-2">
                                    <label for="propertyArea" class="form-label">Property Area :</label>
                                    <input type="text" class="form-control" id="exampleFormControlInput1"
                                        placeholder="Enter in sqfts" class="input-field" formControlName="propertyArea">
                                    <small
                                        *ngIf="loanBasic.get('propertyArea')?.invalid && loanBasic.get('propertyArea')?.touched && shouldApplyValidators()"
                                        class="error">
                                        Property Area is required.
                                    </small>
                                    <ng-container
                                        *ngIf="loanBasic.controls['propertyArea'].dirty && loanBasic.hasError('pattern','propertyArea')">
                                        <small class="error">Please enter proper credentials</small>
                                    </ng-container>
                                </div>
                                <br>
                                </ng-container>
                            </div>
                            <!-- <div class="col-lg-2"></div> -->
                            <div class="col-lg-6 col-md-6 col-12">

                                <div class="mb-2">
                                    <label for="tenure" class="form-label">Tenure :</label>
                                    <input type="number" class="form-control" id="exampleFormControlInput1"
                                        placeholder="Enter in years" class="input-field" formControlName="tenure">
                                    <small *ngIf="loanBasic.get('tenure')?.invalid && loanBasic.get('tenure')?.touched"
                                        class="error">
                                        Tenure is required.
                                    </small>
                                </div>
                                <br>
                                <div class="mb-2">
                                    <label for="monthlyIncome" class="form-label">Monthly Income :</label>
                                    <input type="text" class="form-control" id="exampleFormControlInput1"
                                        placeholder="Enter your Monthly Income" class="input-field"
                                        formControlName="monthlyIncome">
                                    <small
                                        *ngIf="loanBasic.get('monthlyIncome')?.invalid && loanBasic.get('monthlyIncome')?.touched"
                                        class="error">
                                        MonthlyIncome is required.
                                    </small>
                                    <ng-container
                                        *ngIf="loanBasic.controls['monthlyIncome'].dirty && loanBasic.hasError('pattern','monthlyIncome')">
                                        <small class="error">Please enter proper credentials</small>
                                    </ng-container>
                                </div>
                                <br>
                                <div class="mb-2">
                                    <label for="annualIncome" class="form-label">Annual Income :</label>
                                    <input type="text" class="form-control" id="exampleFormControlInput1"
                                        placeholder="Enter your Annual Income" class="input-field"
                                        formControlName="annualIncome">
                                    <small
                                        *ngIf="loanBasic.get('annualIncome')?.invalid && loanBasic.get('annualIncome')?.touched"
                                        class="error">
                                        Annual Income is required.
                                    </small>
                                    <ng-container
                                        *ngIf="loanBasic.controls['annualIncome'].dirty && loanBasic.hasError('pattern','annualIncome')">
                                        <small class="error">Please enter proper credentials</small>
                                    </ng-container>
                                </div>
                                <br>
                                <div class="mb-2">
                                    <label for="otherEmi" class="form-label">OtherEmi :</label>
                                    <input type="text" class="form-control" id="exampleFormControlInput1"
                                        placeholder="Enter your Expenses" class="input-field"
                                        formControlName="otherEmi">
                                    <small
                                        *ngIf="loanBasic.get('otherEmi')?.invalid && loanBasic.get('otherEmi')?.touched"
                                        class="error">
                                        OtherEmi is required.
                                    </small>
                                    <ng-container
                                        *ngIf="loanBasic.controls['otherEmi'].dirty && loanBasic.hasError('pattern','otherEmi')">
                                        <small class="error">Please enter proper credentials</small>
                                    </ng-container>
                                </div>
                                <br>
                                <ng-container *ngIf="this.type == 'houseLoan'">
                                    <div class="mb-2">
                                        <label for="propertyLoc" class="form-label">Property Location :</label>
                                        <input type="text" class="form-control" id="exampleFormControlInput1"
                                            placeholder="Enter your Property Location" class="input-field"
                                            formControlName="propertyLoc">
                                        <small
                                            *ngIf="loanBasic.get('propertyLoc')?.invalid && loanBasic.get('propertyLoc')?.touched && shouldApplyValidators()"
                                            class="error">
                                            PropertyLocation is required.
                                        </small>
                                    </div>
                                    <br>

                                </ng-container>
                                <div class="mb-2">
                                    <label class="form-label" for="file">Upload Documents :</label>
                                    <input class="form-control" multiple type="file"
                                        (change)="onFileSelected($event)" />
                                </div>
                            </div>
                        </div>
                        <button class="btn btn-primary m-auto d-block w-50" type="submit" (click)="onFinalSubmit()">Apply</button>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-lg-2 col-md-2 col-12"></div>
    </div>
</div>